<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BotBuddy - Home</title>
  <link rel="stylesheet" href="/css/home.css">
</head>
<body>
  <header>
    <div class="header-left">
      <img src="/assets/bot.png" alt="ChatBot Logo" class="logo" />
      <span class="app-title">BotBuddy</span>
    </div>
    <div class="header-right">
      <nav aria-label="Main navigation">
        <a href="/html/home.html" aria-current="page">Home</a>
        <a href="/html/about.html">About</a>
        <a href="/html/contact.html">Contact</a>
      </nav>
      <button class="dark-mode-toggle" id="dark-mode-toggle" aria-label="Toggle dark mode" title="Switch to dark mode">🌙</button>
      <img src="/assets/user.png" alt="User menu" class="user-avatar-header" id="user-avatar" tabindex="0" aria-haspopup="true" aria-expanded="false" />
      <div class="user-menu" id="user-menu" style="display:none;">
        <button id="logout-btn">Logout</button>
      </div>
    </div>
  </header>

  <main>
    <section class="chat-intro">
      <h1>Welcome to BotBuddy Home</h1>
      <p>Your personal assistant for reminders, fun facts, and more. Start chatting now!</p>
      <a href="/html/index.html" class="send-btn" aria-label="Start chatting with your bot">Start Chatting</a>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 BotBuddy. All rights reserved.</p>
  </footer>

  <script>
    // Dark Mode Toggle
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    darkModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      darkModeToggle.textContent = isDark ? '☀️' : '🌙';
      darkModeToggle.title = isDark ? 'Switch to light mode' : 'Switch to dark mode';
    });

    // User Menu Toggle
    const userAvatar = document.getElementById('user-avatar');
    const userMenu = document.getElementById('user-menu');
    userAvatar.addEventListener('click', () => {
      const isExpanded = userAvatar.getAttribute('aria-expanded') === 'true';
      userAvatar.setAttribute('aria-expanded', !isExpanded);
      userMenu.style.display = isExpanded ? 'none' : 'block';
    });

    // Close user menu when clicking outside
    document.addEventListener('click', (event) => {
      if (!userAvatar.contains(event.target) && !userMenu.contains(event.target)) {
        userAvatar.setAttribute('aria-expanded', 'false');
        userMenu.style.display = 'none';
      }
    });

    // Logout Button Functionality
    const logoutBtn = document.getElementById('logout-btn');
    logoutBtn.addEventListener('click', () => {
      window.location.href = '/html/login.html?logout=1';
    });
  </script>
</body>
</html>
